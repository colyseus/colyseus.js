{"version":3,"file":"legacy.js","sources":["../../src/legacy.ts"],"sourcesContent":["//\r\n// Polyfills for legacy environments\r\n//\r\n\r\n/*\r\n * Support Android 4.4.x\r\n */\r\nif (!ArrayBuffer.isView) {\r\n    ArrayBuffer.isView = (a: any): a is ArrayBufferView => {\r\n        return a !== null && typeof (a) === 'object' && a.buffer instanceof ArrayBuffer;\r\n    };\r\n}\r\n\r\n// Cocos Creator does not provide \"FormData\"\r\n// Define a dummy implementation so it doesn't crash\r\nif (typeof(FormData) === \"undefined\") {\r\n    // @ts-ignore\r\n    global['FormData'] = class {};\r\n}\r\n\r\n// Define globalThis if not available.\r\n// https://github.com/colyseus/colyseus.js/issues/86\r\nif (\r\n    typeof (globalThis) === \"undefined\" &&\r\n    typeof (window) !== \"undefined\"\r\n) {\r\n    // @ts-ignore\r\n    window['globalThis'] = window;\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AAEA;;AAEG;AACH,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;AACrB,IAAA,WAAW,CAAC,MAAM,GAAG,UAAC,CAAM,EAAA;AACxB,QAAA,OAAO,CAAC,KAAK,IAAI,IAAI,QAAQ,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,MAAM,YAAY,WAAW,CAAC;AACpF,KAAC,CAAC;AACN,CAAC;AAED;AACA;AACA,IAAI,QAAO,QAAQ,CAAC,KAAK,WAAW,EAAE;;IAElC,MAAM,CAAC,UAAU,CAAC,kBAAA,YAAA;AAAG,QAAA,SAAA,OAAA,GAAA;SAAQ;QAAD,OAAC,OAAA,CAAA;KAAR,GAAQ,CAAC;AAClC,CAAC;AAED;AACA;AACA,IACI,QAAQ,UAAU,CAAC,KAAK,WAAW;AACnC,IAAA,QAAQ,MAAM,CAAC,KAAK,WAAW,EACjC;;AAEE,IAAA,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC;AAClC;;"}